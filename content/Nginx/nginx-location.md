---
title: " nginx location 顺序"
date: 2014-05-18 15:48
---

经常要配置 nginx location，它的location 有几个规则是需要知道的

## 匹配命令

```
~  表示执行一个正则匹配, 区分大小写
~* 表示执行一个正则匹配, 不区分大小写
^~ 表示普通字符匹配, 如果该选项匹配, 只匹配该选项, 不匹配别的选项, 一般用来匹配目录
=  进行普通字符精确匹配
@  @定义一个命名的 location，使用在内部定向时，例如 error_page, try_files
```


## 优先级

* = 前缀的指令严格匹配这个查询。如果找到，停止搜索。
* 所有剩下的常规字符串，最长的匹配。如果这个匹配使用^〜前缀，搜索停止。
* 正则表达式，在配置文件中定义的顺序。
