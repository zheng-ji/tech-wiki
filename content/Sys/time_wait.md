---
title: "TIMA_WAIT为什么需要2MSL"
date: 2014-05-18 15:48
---

主动关闭的以防在发送最后一个ACK进入TIME_WAIT状态，停留2MSL：

* 防止上一次连接中包迷失后重新出现，影响新连接。2MSL过后，上一次连接中所有重复的包都会消失

* 为了可靠关闭TCP连接，主动关闭放发送最后一个ACK，有可能会丢失，如果丢失，被动发会重新发FIN，这是如果主动关闭的处于CLOSED状态，会响应RST而不是ACK，所以主动方会出于TIME_WAIT状态，而不是CLOSED，TIME_WAIT不会占据太多资源,除非受到攻击
